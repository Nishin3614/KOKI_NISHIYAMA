// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// 敵処理 [enemy.h]
// Author : koki_nishiyama
//
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#ifndef _ENEMY_H_
#define _ENEMY_H_

#define _CRT_SECURE_NO_WARNINGS

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// インクルードファイル
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#include "character.h"

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 前方宣言
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// クラス
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
class CEnemy : public CCharacter
{
public:
	typedef enum
	{
		STATE_NORMAL = 0,
		STATE_DAMAGE,
		STATE_DIE
	} STATE;
	// ---------モーションタイプ---------- //
	typedef enum
	{
		MOTIONTYPE_NEUTRAL = 0,
		MOTIONTYPE_MOVE,
		MOTIONTYPE_ATTACK,
		MOTIONTYPE_JUMP,
		MOTIONTYPE_LANDING,
		MOTIONTYPE_MAX
	} MOTIONTYPE;
	
	/* 関数 */
	// 自分自身用
	CEnemy();
	// 子供用
	CEnemy(ACTOR actor);	
	~CEnemy();
	void Init(void);
	void Uninit(void);
	void Update(void);
	void Draw(void);

#ifdef _DEBUG
	void Debug(void);
#endif // _DEBUG
	static CEnemy * Create();		// 作成
	static HRESULT Load(void);		// 読み込み
	static void UnLoad(void);		// UnLoadする
protected:
	/* 列挙型 */
	// 行動
	typedef enum
	{
		AI_NORMALACTION = 0,
		AI_ATTACKACTION,
		AI_MAX
	} AI;
	/* 変数 */
	// 行動
	AI m_Ai;
	bool	m_bAttackCollision;
private:
	/* 関数 */
	void AiSerect(void);
	void AiAction(void);
	/* 関数 */
	void AttackAction(void);
	void NormalAction(void);
};
#endif
